<script>
    const category = "<%= category ? category : 'Uncategorized' %>";
    // console.log("category in filters:", category);
</script>


<div id="filters">

    <div class="filter" id="Trending">
        <div><i class="fa-solid fa-fire"></i></div>
        <p>Trending</p>
    </div>


    <div class="filter" id="Room">
        <div><i class="fa-solid fa-bed"></i></i></div>
        <p>Rooms</p>
    </div>


    <div class="filter" id="City">
        <div><i class="fa-solid fa-mountain-city"></i></div>
        <p>Iconic Cities</p>
    </div>

    <div class="filter" id="Mountain">
        <div><i class="fa-solid fa-mountain"></i></div>
        <p>Mountains</p>
    </div>

    <div class="filter" id="Pool">
        <div><i class="fa-solid fa-person-swimming"></i></div>
        <p>Amazing Pools</p>
    </div>

    <div class="filter" id="Castle">
        <div><i class="fa-brands fa-fort-awesome"></i></div>
        <p>Castles</p>
    </div>

    <div class="filter" id="Arctic">
        <div><i class="fa-regular fa-snowflake"></i></div>
        <p>Arctic</p>
    </div>

    <div class="filter" id="Camping">
        <div><i class="fa-solid fa-campground"></i></div>
        <p>Camping</p>
    </div>

    <div class="filter" id="Farm">
        <div><i class="fa-solid fa-cow"></i></div>
        <p>Farms</p>
    </div>

    <div class="filter" id="Dome">
        <div><i class="fa-solid fa-igloo"></i></div>
        <p>Domes</p>
    </div>

    <div class="filter" id="Boat">
        <div><i class="fa-solid fa-sailboat"></i></div>
        <p>Boats</p>
    </div>

    <div class="tax-toggle ms-auto">
        <div class="form-check-reverse form-switch">
            <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
            <label class="form-check-label" for="flexSwitchCheckDefault">Display total after taxes</label>
        </div>
    </div>


</div>

<script>

    const filters = document.querySelectorAll(".filter");


    for (let filter of filters) {
        filter.addEventListener("click", async (event) => {
            const id = filter.getAttribute("id");
            // console.log("id : ", id);
            const url = `http://localhost:3000/listings/search/${id}`;


            // console.log(url);
            window.location.href = url;  // For Full page reload
        })
    }

    // To Highlight the Filter that clicked
    for (let filter of filters) {
        if (filter.getAttribute("id") === category) {
            filter.classList.add("filter-selected");
        }
    }
</script>


<!-- <nav class="navbar navbar-expand-md navbar-light bg-light">
    <div class="container-fluid">
        
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#filtersMenu">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="filtersMenu">
            <div id="filters" class="d-flex flex-wrap justify-content-center p-2">
                <div class="filter">
                    <div><i class="fa-solid fa-fire"></i></div>
                    <p>Trending</p>
                </div>
                <div class="filter">
                    <div><i class="fa-solid fa-bed"></i></div>
                    <p>Rooms</p>
                </div>
                <div class="filter">
                    <div><i class="fa-solid fa-mountain-city"></i></div>
                    <p>Iconic Cities</p>
                </div>
                <div class="filter">
                    <div><i class="fa-solid fa-mountain"></i></div>
                    <p>Mountains</p>
                </div>
                <div class="filter">
                    <div><i class="fa-solid fa-person-swimming"></i></div>
                    <p>Amazing Pools</p>
                </div>
                <div class="filter">
                    <div><i class="fa-brands fa-fort-awesome"></i></div>
                    <p>Castles</p>
                </div>
                <div class="filter">
                    <div><i class="fa-regular fa-snowflake"></i></div>
                    <p>Arctic</p>
                </div>
                <div class="filter">
                    <div><i class="fa-solid fa-campground"></i></div>
                    <p>Camping</p>
                </div>
                <div class="filter">
                    <div><i class="fa-solid fa-cow"></i></div>
                    <p>Farms</p>
                </div>
                <div class="filter">
                    <div><i class="fa-solid fa-igloo"></i></div>
                    <p>Domes</p>
                </div>
                <div class="filter">
                    <div><i class="fa-solid fa-sailboat"></i></div>
                    <p>Boats</p>
                </div>
            </div>

            
            <div class="tax-toggle">
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
                    <label class="form-check-label" for="flexSwitchCheckDefault">Display total after taxes</label>
                </div>
            </div>
        </div>
    </div>
</nav> -->